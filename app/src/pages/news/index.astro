---
import Layout from '../../layouts/Layout.astro';
import NewsCard from '../../components/NewsCard.astro';
import type { News } from '../../types';

// モックデータをインポート
import newsData from '../../data/news.json';

const news: News[] = newsData;

// ニュース一覧のJSON-LDを生成
const newsJsonLd = {
  "@context": "https://schema.org",
  "@type": "ItemList",
  "itemListElement": news.map((item, index) => ({
    "@type": "NewsArticle",
    "position": index + 1,
    "headline": item.title,
    "datePublished": item.date,
    "author": {
      "@type": "Organization",
      "name": "Anemone"
    },
    "url": `https://anemone-salon.com/news/${item.id}`
  }))
};
---

<Layout 
  title="ニュース - アネモネサロン"
  description="アネモネサロンの最新ニュースやお知らせをお届けします。新店舗オープン、キャンペーン情報、スタッフブログなど。"
  jsonLd={JSON.stringify(newsJsonLd)}
>
  <!-- ページヘッダー -->
  <section class="bg-gradient-to-r from-pink-500 to-purple-600 text-white py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h1 class="text-4xl font-bold mb-4">ニュース</h1>
      <p class="text-xl">
        アネモネサロンの最新情報をお届けします
      </p>
    </div>
  </section>

  <!-- ニュース一覧 -->
  <section class="py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {news.map((newsItem) => (
          <NewsCard news={newsItem} />
        ))}
      </div>
    </div>
  </section>
</Layout>
